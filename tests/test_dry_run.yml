- name: test-dry-run
  command: >
    snakemake
    -n -r -p -s Snakefile
    --config
    CONFIG_JSON=tests/data/config/sample_config.json
  exit_code: 0
  stdout:
    contains:
      - "Job counts"
      - "localrule all:"
      - "output: micro/vcf/micro.vcf.gz"
      - "output: micro/vcf/micro.g.vcf.gz"
    must_not_contain:
      - "rror"
  stderr:
    must_not_contain:
      - "rror"
  tags:
    - dry-run
