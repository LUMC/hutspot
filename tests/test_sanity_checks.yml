- name: test-no-reference
  command: >
    snakemake
    -n -r -p -s Snakefile
    --config OUTPUT_DIR=/teststtest/
  exit_code: 1
  stdout:
    contains:
      - "You must set --config REFERENCE=<path>"
  tags:
    - sanity
- name: test-reference-does-not-exist
  command: >
    snakemake
    -n -r -p -s Snakefile
    --config
    OUTPUT_DIR=/teststtest/
    REFERENCE=/very/unlikely/to/exist
  exit_code: 1
  stdout:
    contains:
      - "Reference file /very/unlikely/to/exist does not exist"
  tags:
    - sanity
- name: test-no-sample-config
  command: >
    snakemake
    -n -r -p -s Snakefile
    --config
    OUTPUT_DIR=/test/
    REFERENCE=Snakefile
    DBSNP=Snakefile
  exit_code: 1
  stdout:
    contains:
      - "You must set --config SAMPLE_CONFIG=<path>"
  tags:
    - sanity
- name: test-sample-config-does-not-exist
  command: >
    snakemake
    -n -r -p -s Snakefile
    --config
    OUTPUT_DIR=/test/
    REFERENCE=Snakefile
    DBSNP=Snakefile
    SAMPLE_CONFIG=/very/unlikely/to/exist
  exit_code: 1
  stdout:
    contains:
      - "/very/unlikely/to/exist does not exist"
  tags:
    - sanity

- name: test-known-sites-does-not-exist
  command: >
    snakemake
    -n -r -p -s Snakefile
    --config OUTPUT_DIR=/test/
    REFERENCE=Snakefile
    DBSNP=Snakefile
    SAMPLE_CONFIG=Snakefile
    KNOWN_SITES=/very/unlikely/to/exist
  exit_code: 1
  stdout:
    contains:
      - "/very/unlikely/to/exist does not exist"
  tags:
    - sanity

- name: test-known-sites-any-does-not-exist
  command: >
    snakemake
    -n -r -p -s Snakefile
    --config OUTPUT_DIR=/test/
    REFERENCE=Snakefile
    DBSNP=Snakefile
    SAMPLE_CONFIG=Snakefile
    KNOWN_SITES=Snakefile,/very/unlikely/to/exist
  exit_code: 1
  stdout:
    contains:
      - "/very/unlikely/to/exist does not exist"
  tags:
    - sanity
